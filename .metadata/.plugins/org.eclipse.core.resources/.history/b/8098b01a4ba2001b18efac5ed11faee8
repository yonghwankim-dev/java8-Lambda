package chapter03_문자열과비교및필터.ch03_07_flatMap을사용하여서브티렉터리리스트화;

import java.io.File;
import java.io.IOException;
import java.nio.file.Files;
import java.nio.file.Paths;
import java.util.ArrayList;
import java.util.Arrays;
import java.util.List;

public class ListSubDirs {
	
	/**
	 * step1 for문을 사용한 서브 디렉터리 리스트화
	 * - 서브 디렉터리가 파일을 포함하고 있따면, 그 파일들을 리스트에 추가
	 * - 서브 디렉터리가 파일을 포함하고 있지 않다면 서브 디렉터리 자체를 추가함
	 * - 마지막으로 전체 파일의 수를 출력함
	 */
	public static void example1() throws IOException
	{
		List<File> files = new ArrayList<File>();
		
		File[] filesInCurrentDir = new File(".").listFiles();
		
		for(File file : filesInCurrentDir)
		{
			File[] filesInSubDir = file.listFiles();
			if(filesInSubDir!=null)
			{
				files.addAll(Arrays.asList(filesInSubDir));
			}
			else
			{
				files.add(file);
			}
		}
		
		System.out.println("Count : " + files.size());
	}

	public static void main(String[] args) throws IOException {
		// TODO Auto-generated method stub
		example1();
	}

}
