package chapter03_문자열과비교및필터.ch03_04_collect메서드와Collectos클래스사용;

import java.util.ArrayList;
import java.util.Arrays;
import java.util.Comparator;
import java.util.List;
import java.util.function.Function;
import java.util.stream.Collectors;

public class Compare {

	public static void main(String[] args) {
		// TODO Auto-generated method stub
		
		final List<Person> people = Arrays.asList(new Person("John",20),
													new Person("Sara",21),
													new Person("Jane",21),
													new Person("Greg",35));
		
		/**
		 * step1 가변성과 forEach() 메서드를 사용하여 collect 기능 사용
		 * 
		 * 문제점
		 * 1. 타깃 컬렉션에 엘리먼트를 추가하는 오퍼레이션이 너무 로우 레벨이다.
		 * 2. 가변성을 병렬화를 어렵게 한다.
		 * 
		 * 해결방법
		 * 1. collect() 메서드 사용
		 * 
		 */
		List<Person> olderThan20 = new ArrayList<Person>();
		people.stream()
				.filter(person -> person.getAge() > 20)
				.forEach(person -> olderThan20.add(person));
		System.out.println("People older than 20: "+olderThan20);
		
		
	}

	public static void printPeople(String description, List<Person> list)
	{
		System.out.println(description);
		list.forEach(System.out::println);
	}

}
